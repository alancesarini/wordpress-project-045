jQuery(document).ready(function(t){t("form#login").on("submit",function(a){t("form#login p.status").show().text(ajax_login_object.loadingmessage),t.ajax({type:"POST",dataType:"json",url:ajax_login_object.ajaxurl,data:{action:"ajaxlogin",username:t("form#login #username").val(),password:t("form#login #password").val(),security:t("form#login #security").val()},success:function(a){0==a.loggedin?t("form#login p.status").addClass("text-error"):t("form#login p.status").removeClass("text-error"),t("form#login p.status").text(a.message),1==a.loggedin&&(document.location.href=ajax_login_object.redirecturl)}}),a.preventDefault()}),t("form#register").on("submit",function(a){t("p.status",this).show().text(ajax_login_object.loadingmessage),action="ajaxregister",username=t("#signonname").val(),password=t("#signonpassword").val(),email=t("#email").val(),security=t("#signonsecurity").val(),ctrl=t(this),t.ajax({type:"POST",dataType:"json",url:ajax_login_object.ajaxurl,data:{action:action,username:username,password:password,email:email,security:security},success:function(a){0==a.loggedin?t("form#register p.status").addClass("text-error"):t("form#register p.status").removeClass("text-error"),t("p.status",ctrl).text(a.message),1==a.loggedin&&(document.location.href=ajax_login_object.redirecturl)}}),a.preventDefault()}),t(".link-lost-password").click(function(a){a.preventDefault(),t(".modal-login-form").fadeOut(function(){t(".modal-lostpassword-form").fadeIn()})}),t("form#forgot_password").on("submit",function(a){return t("p.status",this).show().text(ajax_login_object.loadingmessage),ctrl=t(this),t.ajax({type:"POST",dataType:"json",url:ajax_login_object.ajaxurl,data:{action:"ajaxforgotpassword",user_login:t("#user_login").val(),security:t("#forgotsecurity").val()},success:function(a){0==a.loggedin?t("form#forgot_password p.status").addClass("text-error"):t("form#forgot_password p.status").removeClass("text-error"),t("p.status",ctrl).text(a.message)}}),a.preventDefault(),!1})})
